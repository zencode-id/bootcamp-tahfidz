import { db, sqlite } from "./index.js";
import { surahs, users } from "./schema.js";
import bcrypt from "bcryptjs";
import fs from "fs";
import path from "path";

// Surah data
const surahData = [
  {
    id: 1,
    name: "Al-Fatihah",
    arabicName: "Ø§Ù„ÙØ§ØªØ­Ø©",
    totalAyahs: 7,
    juz: '["1"]',
  },
  {
    id: 2,
    name: "Al-Baqarah",
    arabicName: "Ø§Ù„Ø¨Ù‚Ø±Ø©",
    totalAyahs: 286,
    juz: '["1","2","3"]',
  },
  {
    id: 3,
    name: "Ali 'Imran",
    arabicName: "Ø¢Ù„ Ø¹Ù…Ø±Ø§Ù†",
    totalAyahs: 200,
    juz: '["3","4"]',
  },
  {
    id: 4,
    name: "An-Nisa",
    arabicName: "Ø§Ù„Ù†Ø³Ø§Ø¡",
    totalAyahs: 176,
    juz: '["4","5","6"]',
  },
  {
    id: 5,
    name: "Al-Ma'idah",
    arabicName: "Ø§Ù„Ù…Ø§Ø¦Ø¯Ø©",
    totalAyahs: 120,
    juz: '["6","7"]',
  },
  {
    id: 6,
    name: "Al-An'am",
    arabicName: "Ø§Ù„Ø£Ù†Ø¹Ø§Ù…",
    totalAyahs: 165,
    juz: '["7","8"]',
  },
  {
    id: 7,
    name: "Al-A'raf",
    arabicName: "Ø§Ù„Ø£Ø¹Ø±Ø§Ù",
    totalAyahs: 206,
    juz: '["8","9"]',
  },
  {
    id: 8,
    name: "Al-Anfal",
    arabicName: "Ø§Ù„Ø£Ù†ÙØ§Ù„",
    totalAyahs: 75,
    juz: '["9","10"]',
  },
  {
    id: 9,
    name: "At-Tawbah",
    arabicName: "Ø§Ù„ØªÙˆØ¨Ø©",
    totalAyahs: 129,
    juz: '["10","11"]',
  },
  { id: 10, name: "Yunus", arabicName: "ÙŠÙˆÙ†Ø³", totalAyahs: 109, juz: '["11"]' },
  {
    id: 11,
    name: "Hud",
    arabicName: "Ù‡ÙˆØ¯",
    totalAyahs: 123,
    juz: '["11","12"]',
  },
  {
    id: 12,
    name: "Yusuf",
    arabicName: "ÙŠÙˆØ³Ù",
    totalAyahs: 111,
    juz: '["12","13"]',
  },
  {
    id: 13,
    name: "Ar-Ra'd",
    arabicName: "Ø§Ù„Ø±Ø¹Ø¯",
    totalAyahs: 43,
    juz: '["13"]',
  },
  {
    id: 14,
    name: "Ibrahim",
    arabicName: "Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ…",
    totalAyahs: 52,
    juz: '["13"]',
  },
  {
    id: 15,
    name: "Al-Hijr",
    arabicName: "Ø§Ù„Ø­Ø¬Ø±",
    totalAyahs: 99,
    juz: '["14"]',
  },
  {
    id: 16,
    name: "An-Nahl",
    arabicName: "Ø§Ù„Ù†Ø­Ù„",
    totalAyahs: 128,
    juz: '["14"]',
  },
  {
    id: 17,
    name: "Al-Isra",
    arabicName: "Ø§Ù„Ø¥Ø³Ø±Ø§Ø¡",
    totalAyahs: 111,
    juz: '["15"]',
  },
  {
    id: 18,
    name: "Al-Kahf",
    arabicName: "Ø§Ù„ÙƒÙ‡Ù",
    totalAyahs: 110,
    juz: '["15","16"]',
  },
  { id: 19, name: "Maryam", arabicName: "Ù…Ø±ÙŠÙ…", totalAyahs: 98, juz: '["16"]' },
  { id: 20, name: "Ta-Ha", arabicName: "Ø·Ù‡", totalAyahs: 135, juz: '["16"]' },
  {
    id: 21,
    name: "Al-Anbiya",
    arabicName: "Ø§Ù„Ø£Ù†Ø¨ÙŠØ§Ø¡",
    totalAyahs: 112,
    juz: '["17"]',
  },
  {
    id: 22,
    name: "Al-Hajj",
    arabicName: "Ø§Ù„Ø­Ø¬",
    totalAyahs: 78,
    juz: '["17"]',
  },
  {
    id: 23,
    name: "Al-Mu'minun",
    arabicName: "Ø§Ù„Ù…Ø¤Ù…Ù†ÙˆÙ†",
    totalAyahs: 118,
    juz: '["18"]',
  },
  {
    id: 24,
    name: "An-Nur",
    arabicName: "Ø§Ù„Ù†ÙˆØ±",
    totalAyahs: 64,
    juz: '["18"]',
  },
  {
    id: 25,
    name: "Al-Furqan",
    arabicName: "Ø§Ù„ÙØ±Ù‚Ø§Ù†",
    totalAyahs: 77,
    juz: '["18","19"]',
  },
  {
    id: 26,
    name: "Ash-Shu'ara",
    arabicName: "Ø§Ù„Ø´Ø¹Ø±Ø§Ø¡",
    totalAyahs: 227,
    juz: '["19"]',
  },
  {
    id: 27,
    name: "An-Naml",
    arabicName: "Ø§Ù„Ù†Ù…Ù„",
    totalAyahs: 93,
    juz: '["19","20"]',
  },
  {
    id: 28,
    name: "Al-Qasas",
    arabicName: "Ø§Ù„Ù‚ØµØµ",
    totalAyahs: 88,
    juz: '["20"]',
  },
  {
    id: 29,
    name: "Al-'Ankabut",
    arabicName: "Ø§Ù„Ø¹Ù†ÙƒØ¨ÙˆØª",
    totalAyahs: 69,
    juz: '["20","21"]',
  },
  {
    id: 30,
    name: "Ar-Rum",
    arabicName: "Ø§Ù„Ø±ÙˆÙ…",
    totalAyahs: 60,
    juz: '["21"]',
  },
  {
    id: 31,
    name: "Luqman",
    arabicName: "Ù„Ù‚Ù…Ø§Ù†",
    totalAyahs: 34,
    juz: '["21"]',
  },
  {
    id: 32,
    name: "As-Sajdah",
    arabicName: "Ø§Ù„Ø³Ø¬Ø¯Ø©",
    totalAyahs: 30,
    juz: '["21"]',
  },
  {
    id: 33,
    name: "Al-Ahzab",
    arabicName: "Ø§Ù„Ø£Ø­Ø²Ø§Ø¨",
    totalAyahs: 73,
    juz: '["21","22"]',
  },
  { id: 34, name: "Saba", arabicName: "Ø³Ø¨Ø£", totalAyahs: 54, juz: '["22"]' },
  { id: 35, name: "Fatir", arabicName: "ÙØ§Ø·Ø±", totalAyahs: 45, juz: '["22"]' },
  {
    id: 36,
    name: "Ya-Sin",
    arabicName: "ÙŠØ³",
    totalAyahs: 83,
    juz: '["22","23"]',
  },
  {
    id: 37,
    name: "As-Saffat",
    arabicName: "Ø§Ù„ØµØ§ÙØ§Øª",
    totalAyahs: 182,
    juz: '["23"]',
  },
  { id: 38, name: "Sad", arabicName: "Øµ", totalAyahs: 88, juz: '["23"]' },
  {
    id: 39,
    name: "Az-Zumar",
    arabicName: "Ø§Ù„Ø²Ù…Ø±",
    totalAyahs: 75,
    juz: '["23","24"]',
  },
  { id: 40, name: "Ghafir", arabicName: "ØºØ§ÙØ±", totalAyahs: 85, juz: '["24"]' },
  {
    id: 41,
    name: "Fussilat",
    arabicName: "ÙØµÙ„Øª",
    totalAyahs: 54,
    juz: '["24","25"]',
  },
  {
    id: 42,
    name: "Ash-Shura",
    arabicName: "Ø§Ù„Ø´ÙˆØ±Ù‰",
    totalAyahs: 53,
    juz: '["25"]',
  },
  {
    id: 43,
    name: "Az-Zukhruf",
    arabicName: "Ø§Ù„Ø²Ø®Ø±Ù",
    totalAyahs: 89,
    juz: '["25"]',
  },
  {
    id: 44,
    name: "Ad-Dukhan",
    arabicName: "Ø§Ù„Ø¯Ø®Ø§Ù†",
    totalAyahs: 59,
    juz: '["25"]',
  },
  {
    id: 45,
    name: "Al-Jathiyah",
    arabicName: "Ø§Ù„Ø¬Ø§Ø«ÙŠØ©",
    totalAyahs: 37,
    juz: '["25"]',
  },
  {
    id: 46,
    name: "Al-Ahqaf",
    arabicName: "Ø§Ù„Ø£Ø­Ù‚Ø§Ù",
    totalAyahs: 35,
    juz: '["26"]',
  },
  {
    id: 47,
    name: "Muhammad",
    arabicName: "Ù…Ø­Ù…Ø¯",
    totalAyahs: 38,
    juz: '["26"]',
  },
  {
    id: 48,
    name: "Al-Fath",
    arabicName: "Ø§Ù„ÙØªØ­",
    totalAyahs: 29,
    juz: '["26"]',
  },
  {
    id: 49,
    name: "Al-Hujurat",
    arabicName: "Ø§Ù„Ø­Ø¬Ø±Ø§Øª",
    totalAyahs: 18,
    juz: '["26"]',
  },
  { id: 50, name: "Qaf", arabicName: "Ù‚", totalAyahs: 45, juz: '["26"]' },
  {
    id: 51,
    name: "Adh-Dhariyat",
    arabicName: "Ø§Ù„Ø°Ø§Ø±ÙŠØ§Øª",
    totalAyahs: 60,
    juz: '["26","27"]',
  },
  {
    id: 52,
    name: "At-Tur",
    arabicName: "Ø§Ù„Ø·ÙˆØ±",
    totalAyahs: 49,
    juz: '["27"]',
  },
  {
    id: 53,
    name: "An-Najm",
    arabicName: "Ø§Ù„Ù†Ø¬Ù…",
    totalAyahs: 62,
    juz: '["27"]',
  },
  {
    id: 54,
    name: "Al-Qamar",
    arabicName: "Ø§Ù„Ù‚Ù…Ø±",
    totalAyahs: 55,
    juz: '["27"]',
  },
  {
    id: 55,
    name: "Ar-Rahman",
    arabicName: "Ø§Ù„Ø±Ø­Ù…Ù†",
    totalAyahs: 78,
    juz: '["27"]',
  },
  {
    id: 56,
    name: "Al-Waqi'ah",
    arabicName: "Ø§Ù„ÙˆØ§Ù‚Ø¹Ø©",
    totalAyahs: 96,
    juz: '["27"]',
  },
  {
    id: 57,
    name: "Al-Hadid",
    arabicName: "Ø§Ù„Ø­Ø¯ÙŠØ¯",
    totalAyahs: 29,
    juz: '["27"]',
  },
  {
    id: 58,
    name: "Al-Mujadila",
    arabicName: "Ø§Ù„Ù…Ø¬Ø§Ø¯Ù„Ø©",
    totalAyahs: 22,
    juz: '["28"]',
  },
  {
    id: 59,
    name: "Al-Hashr",
    arabicName: "Ø§Ù„Ø­Ø´Ø±",
    totalAyahs: 24,
    juz: '["28"]',
  },
  {
    id: 60,
    name: "Al-Mumtahanah",
    arabicName: "Ø§Ù„Ù…Ù…ØªØ­Ù†Ø©",
    totalAyahs: 13,
    juz: '["28"]',
  },
  {
    id: 61,
    name: "As-Saff",
    arabicName: "Ø§Ù„ØµÙ",
    totalAyahs: 14,
    juz: '["28"]',
  },
  {
    id: 62,
    name: "Al-Jumu'ah",
    arabicName: "Ø§Ù„Ø¬Ù…Ø¹Ø©",
    totalAyahs: 11,
    juz: '["28"]',
  },
  {
    id: 63,
    name: "Al-Munafiqun",
    arabicName: "Ø§Ù„Ù…Ù†Ø§ÙÙ‚ÙˆÙ†",
    totalAyahs: 11,
    juz: '["28"]',
  },
  {
    id: 64,
    name: "At-Taghabun",
    arabicName: "Ø§Ù„ØªØºØ§Ø¨Ù†",
    totalAyahs: 18,
    juz: '["28"]',
  },
  {
    id: 65,
    name: "At-Talaq",
    arabicName: "Ø§Ù„Ø·Ù„Ø§Ù‚",
    totalAyahs: 12,
    juz: '["28"]',
  },
  {
    id: 66,
    name: "At-Tahrim",
    arabicName: "Ø§Ù„ØªØ­Ø±ÙŠÙ…",
    totalAyahs: 12,
    juz: '["28"]',
  },
  {
    id: 67,
    name: "Al-Mulk",
    arabicName: "Ø§Ù„Ù…Ù„Ùƒ",
    totalAyahs: 30,
    juz: '["29"]',
  },
  {
    id: 68,
    name: "Al-Qalam",
    arabicName: "Ø§Ù„Ù‚Ù„Ù…",
    totalAyahs: 52,
    juz: '["29"]',
  },
  {
    id: 69,
    name: "Al-Haqqah",
    arabicName: "Ø§Ù„Ø­Ø§Ù‚Ø©",
    totalAyahs: 52,
    juz: '["29"]',
  },
  {
    id: 70,
    name: "Al-Ma'arij",
    arabicName: "Ø§Ù„Ù…Ø¹Ø§Ø±Ø¬",
    totalAyahs: 44,
    juz: '["29"]',
  },
  { id: 71, name: "Nuh", arabicName: "Ù†ÙˆØ­", totalAyahs: 28, juz: '["29"]' },
  {
    id: 72,
    name: "Al-Jinn",
    arabicName: "Ø§Ù„Ø¬Ù†",
    totalAyahs: 28,
    juz: '["29"]',
  },
  {
    id: 73,
    name: "Al-Muzzammil",
    arabicName: "Ø§Ù„Ù…Ø²Ù…Ù„",
    totalAyahs: 20,
    juz: '["29"]',
  },
  {
    id: 74,
    name: "Al-Muddaththir",
    arabicName: "Ø§Ù„Ù…Ø¯Ø«Ø±",
    totalAyahs: 56,
    juz: '["29"]',
  },
  {
    id: 75,
    name: "Al-Qiyamah",
    arabicName: "Ø§Ù„Ù‚ÙŠØ§Ù…Ø©",
    totalAyahs: 40,
    juz: '["29"]',
  },
  {
    id: 76,
    name: "Al-Insan",
    arabicName: "Ø§Ù„Ø¥Ù†Ø³Ø§Ù†",
    totalAyahs: 31,
    juz: '["29"]',
  },
  {
    id: 77,
    name: "Al-Mursalat",
    arabicName: "Ø§Ù„Ù…Ø±Ø³Ù„Ø§Øª",
    totalAyahs: 50,
    juz: '["29"]',
  },
  {
    id: 78,
    name: "An-Naba",
    arabicName: "Ø§Ù„Ù†Ø¨Ø£",
    totalAyahs: 40,
    juz: '["30"]',
  },
  {
    id: 79,
    name: "An-Nazi'at",
    arabicName: "Ø§Ù„Ù†Ø§Ø²Ø¹Ø§Øª",
    totalAyahs: 46,
    juz: '["30"]',
  },
  { id: 80, name: "'Abasa", arabicName: "Ø¹Ø¨Ø³", totalAyahs: 42, juz: '["30"]' },
  {
    id: 81,
    name: "At-Takwir",
    arabicName: "Ø§Ù„ØªÙƒÙˆÙŠØ±",
    totalAyahs: 29,
    juz: '["30"]',
  },
  {
    id: 82,
    name: "Al-Infitar",
    arabicName: "Ø§Ù„Ø§Ù†ÙØ·Ø§Ø±",
    totalAyahs: 19,
    juz: '["30"]',
  },
  {
    id: 83,
    name: "Al-Mutaffifin",
    arabicName: "Ø§Ù„Ù…Ø·ÙÙÙŠÙ†",
    totalAyahs: 36,
    juz: '["30"]',
  },
  {
    id: 84,
    name: "Al-Inshiqaq",
    arabicName: "Ø§Ù„Ø§Ù†Ø´Ù‚Ø§Ù‚",
    totalAyahs: 25,
    juz: '["30"]',
  },
  {
    id: 85,
    name: "Al-Buruj",
    arabicName: "Ø§Ù„Ø¨Ø±ÙˆØ¬",
    totalAyahs: 22,
    juz: '["30"]',
  },
  {
    id: 86,
    name: "At-Tariq",
    arabicName: "Ø§Ù„Ø·Ø§Ø±Ù‚",
    totalAyahs: 17,
    juz: '["30"]',
  },
  {
    id: 87,
    name: "Al-A'la",
    arabicName: "Ø§Ù„Ø£Ø¹Ù„Ù‰",
    totalAyahs: 19,
    juz: '["30"]',
  },
  {
    id: 88,
    name: "Al-Ghashiyah",
    arabicName: "Ø§Ù„ØºØ§Ø´ÙŠØ©",
    totalAyahs: 26,
    juz: '["30"]',
  },
  {
    id: 89,
    name: "Al-Fajr",
    arabicName: "Ø§Ù„ÙØ¬Ø±",
    totalAyahs: 30,
    juz: '["30"]',
  },
  {
    id: 90,
    name: "Al-Balad",
    arabicName: "Ø§Ù„Ø¨Ù„Ø¯",
    totalAyahs: 20,
    juz: '["30"]',
  },
  {
    id: 91,
    name: "Ash-Shams",
    arabicName: "Ø§Ù„Ø´Ù…Ø³",
    totalAyahs: 15,
    juz: '["30"]',
  },
  {
    id: 92,
    name: "Al-Layl",
    arabicName: "Ø§Ù„Ù„ÙŠÙ„",
    totalAyahs: 21,
    juz: '["30"]',
  },
  {
    id: 93,
    name: "Ad-Duha",
    arabicName: "Ø§Ù„Ø¶Ø­Ù‰",
    totalAyahs: 11,
    juz: '["30"]',
  },
  {
    id: 94,
    name: "Ash-Sharh",
    arabicName: "Ø§Ù„Ø´Ø±Ø­",
    totalAyahs: 8,
    juz: '["30"]',
  },
  { id: 95, name: "At-Tin", arabicName: "Ø§Ù„ØªÙŠÙ†", totalAyahs: 8, juz: '["30"]' },
  {
    id: 96,
    name: "Al-'Alaq",
    arabicName: "Ø§Ù„Ø¹Ù„Ù‚",
    totalAyahs: 19,
    juz: '["30"]',
  },
  {
    id: 97,
    name: "Al-Qadr",
    arabicName: "Ø§Ù„Ù‚Ø¯Ø±",
    totalAyahs: 5,
    juz: '["30"]',
  },
  {
    id: 98,
    name: "Al-Bayyinah",
    arabicName: "Ø§Ù„Ø¨ÙŠÙ†Ø©",
    totalAyahs: 8,
    juz: '["30"]',
  },
  {
    id: 99,
    name: "Az-Zalzalah",
    arabicName: "Ø§Ù„Ø²Ù„Ø²Ù„Ø©",
    totalAyahs: 8,
    juz: '["30"]',
  },
  {
    id: 100,
    name: "Al-'Adiyat",
    arabicName: "Ø§Ù„Ø¹Ø§Ø¯ÙŠØ§Øª",
    totalAyahs: 11,
    juz: '["30"]',
  },
  {
    id: 101,
    name: "Al-Qari'ah",
    arabicName: "Ø§Ù„Ù‚Ø§Ø±Ø¹Ø©",
    totalAyahs: 11,
    juz: '["30"]',
  },
  {
    id: 102,
    name: "At-Takathur",
    arabicName: "Ø§Ù„ØªÙƒØ§Ø«Ø±",
    totalAyahs: 8,
    juz: '["30"]',
  },
  {
    id: 103,
    name: "Al-'Asr",
    arabicName: "Ø§Ù„Ø¹ØµØ±",
    totalAyahs: 3,
    juz: '["30"]',
  },
  {
    id: 104,
    name: "Al-Humazah",
    arabicName: "Ø§Ù„Ù‡Ù…Ø²Ø©",
    totalAyahs: 9,
    juz: '["30"]',
  },
  {
    id: 105,
    name: "Al-Fil",
    arabicName: "Ø§Ù„ÙÙŠÙ„",
    totalAyahs: 5,
    juz: '["30"]',
  },
  {
    id: 106,
    name: "Quraysh",
    arabicName: "Ù‚Ø±ÙŠØ´",
    totalAyahs: 4,
    juz: '["30"]',
  },
  {
    id: 107,
    name: "Al-Ma'un",
    arabicName: "Ø§Ù„Ù…Ø§Ø¹ÙˆÙ†",
    totalAyahs: 7,
    juz: '["30"]',
  },
  {
    id: 108,
    name: "Al-Kawthar",
    arabicName: "Ø§Ù„ÙƒÙˆØ«Ø±",
    totalAyahs: 3,
    juz: '["30"]',
  },
  {
    id: 109,
    name: "Al-Kafirun",
    arabicName: "Ø§Ù„ÙƒØ§ÙØ±ÙˆÙ†",
    totalAyahs: 6,
    juz: '["30"]',
  },
  {
    id: 110,
    name: "An-Nasr",
    arabicName: "Ø§Ù„Ù†ØµØ±",
    totalAyahs: 3,
    juz: '["30"]',
  },
  {
    id: 111,
    name: "Al-Masad",
    arabicName: "Ø§Ù„Ù…Ø³Ø¯",
    totalAyahs: 5,
    juz: '["30"]',
  },
  {
    id: 112,
    name: "Al-Ikhlas",
    arabicName: "Ø§Ù„Ø¥Ø®Ù„Ø§Øµ",
    totalAyahs: 4,
    juz: '["30"]',
  },
  {
    id: 113,
    name: "Al-Falaq",
    arabicName: "Ø§Ù„ÙÙ„Ù‚",
    totalAyahs: 5,
    juz: '["30"]',
  },
  {
    id: 114,
    name: "An-Nas",
    arabicName: "Ø§Ù„Ù†Ø§Ø³",
    totalAyahs: 6,
    juz: '["30"]',
  },
];

async function seed() {
  console.log("ğŸŒ± Starting database seed...\n");

  try {
    // Seed surahs
    console.log("ğŸ“– Seeding Surahs...");
    for (const surah of surahData) {
      await db.insert(surahs).values(surah).onConflictDoNothing();
    }
    console.log("âœ… Surahs seeded successfully\n");

    // Seed default admin user
    console.log("ğŸ‘¤ Creating default admin user...");
    const hashedPassword = await bcrypt.hash("admin123", 12);

    await db
      .insert(users)
      .values({
        name: "Admin",
        email: "admin@tahfidz.app",
        password: hashedPassword,
        role: "admin",
        isActive: true,
      })
      .onConflictDoNothing();
    console.log("âœ… Default admin created: admin@tahfidz.app / admin123\n");

    // Create sample teacher
    console.log("ğŸ‘¨â€ğŸ« Creating sample teacher...");
    const teacherPassword = await bcrypt.hash("teacher123", 12);
    await db
      .insert(users)
      .values({
        name: "Ustadz Ahmad",
        email: "teacher@tahfidz.app",
        password: teacherPassword,
        role: "teacher",
        isActive: true,
      })
      .onConflictDoNothing();
    console.log(
      "âœ… Sample teacher created: teacher@tahfidz.app / teacher123\n",
    );

    console.log("ğŸ‰ Database seed completed successfully!");
  } catch (error) {
    console.error("âŒ Seed failed:", error);
    process.exit(1);
  }
}

seed();
